import { pickBestLocale } from '@/locales'
import type { Locale } from 'date-fns'
const locales = {
  af: () => import('date-fns/esm/locale/af'),
  'ar-DZ': () => import('date-fns/esm/locale/ar-DZ'),
  'ar-MA': () => import('date-fns/esm/locale/ar-MA'),
  'ar-SA': () => import('date-fns/esm/locale/ar-SA'),
  az: () => import('date-fns/esm/locale/az'),
  be: () => import('date-fns/esm/locale/be'),
  bg: () => import('date-fns/esm/locale/bg'),
  bn: () => import('date-fns/esm/locale/bn'),
  ca: () => import('date-fns/esm/locale/ca'),
  cs: () => import('date-fns/esm/locale/cs'),
  cy: () => import('date-fns/esm/locale/cy'),
  da: () => import('date-fns/esm/locale/da'),
  de: () => import('date-fns/esm/locale/de'),
  el: () => import('date-fns/esm/locale/el'),
  'en-AU': () => import('date-fns/esm/locale/en-AU'),
  'en-CA': () => import('date-fns/esm/locale/en-CA'),
  'en-GB': () => import('date-fns/esm/locale/en-GB'),
  'en-IN': () => import('date-fns/esm/locale/en-IN'),
  'en-NZ': () => import('date-fns/esm/locale/en-NZ'),
  'en-US': () => import('date-fns/esm/locale/en-US'),
  'en-ZA': () => import('date-fns/esm/locale/en-ZA'),
  eo: () => import('date-fns/esm/locale/eo'),
  es: () => import('date-fns/esm/locale/es'),
  et: () => import('date-fns/esm/locale/et'),
  eu: () => import('date-fns/esm/locale/eu'),
  'fa-IR': () => import('date-fns/esm/locale/fa-IR'),
  fi: () => import('date-fns/esm/locale/fi'),
  fr: () => import('date-fns/esm/locale/fr'),
  'fr-CA': () => import('date-fns/esm/locale/fr-CA'),
  'fr-CH': () => import('date-fns/esm/locale/fr-CH'),
  gd: () => import('date-fns/esm/locale/gd'),
  gl: () => import('date-fns/esm/locale/gl'),
  gu: () => import('date-fns/esm/locale/gu'),
  he: () => import('date-fns/esm/locale/he'),
  hi: () => import('date-fns/esm/locale/hi'),
  hr: () => import('date-fns/esm/locale/hr'),
  hu: () => import('date-fns/esm/locale/hu'),
  hy: () => import('date-fns/esm/locale/hy'),
  id: () => import('date-fns/esm/locale/id'),
  is: () => import('date-fns/esm/locale/is'),
  it: () => import('date-fns/esm/locale/it'),
  ja: () => import('date-fns/esm/locale/ja'),
  ka: () => import('date-fns/esm/locale/ka'),
  kk: () => import('date-fns/esm/locale/kk'),
  kn: () => import('date-fns/esm/locale/kn'),
  ko: () => import('date-fns/esm/locale/ko'),
  lb: () => import('date-fns/esm/locale/lb'),
  lt: () => import('date-fns/esm/locale/lt'),
  lv: () => import('date-fns/esm/locale/lv'),
  mk: () => import('date-fns/esm/locale/mk'),
  ms: () => import('date-fns/esm/locale/ms'),
  mt: () => import('date-fns/esm/locale/mt'),
  nb: () => import('date-fns/esm/locale/nb'),
  nl: () => import('date-fns/esm/locale/nl'),
  'nl-BE': () => import('date-fns/esm/locale/nl-BE'),
  nn: () => import('date-fns/esm/locale/nn'),
  pl: () => import('date-fns/esm/locale/pl'),
  pt: () => import('date-fns/esm/locale/pt'),
  'pt-BR': () => import('date-fns/esm/locale/pt-BR'),
  ro: () => import('date-fns/esm/locale/ro'),
  ru: () => import('date-fns/esm/locale/ru'),
  sk: () => import('date-fns/esm/locale/sk'),
  sl: () => import('date-fns/esm/locale/sl'),
  sr: () => import('date-fns/esm/locale/sr'),
  'sr-Latn': () => import('date-fns/esm/locale/sr-Latn'),
  sv: () => import('date-fns/esm/locale/sv'),
  ta: () => import('date-fns/esm/locale/ta'),
  te: () => import('date-fns/esm/locale/te'),
  th: () => import('date-fns/esm/locale/th'),
  tr: () => import('date-fns/esm/locale/tr'),
  ug: () => import('date-fns/esm/locale/ug'),
  uk: () => import('date-fns/esm/locale/uk'),
  uz: () => import('date-fns/esm/locale/uz'),
  vi: () => import('date-fns/esm/locale/vi'),
  'zh-CN': () => import('date-fns/esm/locale/zh-CN'),
  'zh-TW': () => import('date-fns/esm/locale/zh-TW'),
} as Record<string, () => Promise<{ default: Locale }>>

export const dateFnsLocale = async (): Promise<Locale> => {
  const lang = locales[pickBestLocale(Object.keys(locales), 'en-US')]
  const lr = await lang()
  return 'default' in lr ? lr.default : (await locales['en-US']()).default
}
